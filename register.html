<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>สมัครสมาชิก - Me Sofa Design</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="auth.css">
</head>
<body>

    <div class="auth-container">
        <div class="auth-header">
            <h2><i class="fas fa-couch"></i> ME SOFA</h2>
            <p>สร้างบัญชีใหม่เพื่อรับสิทธิพิเศษและส่วนลด</p>
        </div>

        <button class="btn-google" onclick="alert('กำลังเชื่อมต่อ Google...')">
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google" width="20">
            สมัครด้วยบัญชี Google
        </button>

        <div class="divider">หรือสมัครด้วย</div>

        <div class="auth-tabs">
            <button class="tab-btn active" onclick="switchTab('email')">อีเมล</button>
            <button class="tab-btn" onclick="switchTab('phone')">เบอร์โทรศัพท์</button>
        </div>

        <form id="form-email" action="#" method="POST">
            <div class="form-group">
                <label>ชื่อ - นามสกุล</label>
                <input type="text" placeholder="เช่น สมชาย ใจดี">
            </div>
            <div class="form-group">
                <label>อีเมล</label>
                <input type="email" placeholder="example@email.com">
            </div>
            <div class="form-group">
                <label>รหัสผ่าน</label>
                <input type="password" placeholder="อย่างน้อย 8 ตัวอักษร">
            </div>
            <div class="form-group">
                <label>ยืนยันรหัสผ่าน</label>
                <input type="password" placeholder="กรอกรหัสผ่านอีกครั้ง">
            </div>
            <button type="button" class="btn-auth" onclick="window.location.href='index.html'">สมัครสมาชิก</button>
        </form>

        <form id="form-phone" style="display: none;" action="#" method="POST">
            <div class="form-group">
                <label>ชื่อ - นามสกุล</label>
                <input type="text" placeholder="เช่น สมชาย ใจดี">
            </div>
            
            <div class="form-group input-wrapper">
                <label>เบอร์โทรศัพท์</label>
                <input type="tel" id="reg-phone" placeholder="08x-xxx-xxxx">
                <button type="button" class="btn-request-otp" onclick="requestOTP('reg')">ขอ OTP</button>
            </div>

            <div id="otp-box-reg" class="otp-box">
                <div class="form-group" style="margin-bottom: 5px;">
                    <label>รหัส OTP (4 หลัก)</label>
                    <input type="text" id="otp-input-reg" placeholder="_ _ _ _" maxlength="4" style="text-align: center; letter-spacing: 5px; font-weight: bold;">
                </div>
                <small style="color: #666;">รหัสจะหมดอายุใน: <span id="timer-reg" style="color: #D32F2F; font-weight: bold;">01:00</span></small>
            </div>

            <div class="form-group">
                <label>ตั้งรหัสผ่านสำหรับเข้าใช้งานครั้งต่อไป</label>
                <input type="password" placeholder="อย่างน้อย 8 ตัวอักษร">
            </div>

            <button type="button" id="btn-submit-reg" class="btn-auth" disabled onclick="window.location.href='index.html'">ยืนยันการสมัคร</button>
        </form>

        <div class="auth-footer">
            มีบัญชีอยู่แล้ว? <a href="login.html">เข้าสู่ระบบ</a>
        </div>
        <a href="index.html" class="back-home"><i class="fas fa-arrow-left"></i> กลับไปหน้าหลัก</a>
    </div>

    <script>
        // ฟังก์ชันสลับ Tab
        function switchTab(type) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            if (type === 'email') {
                document.getElementById('form-email').style.display = 'block';
                document.getElementById('form-phone').style.display = 'none';
            } else {
                document.getElementById('form-email').style.display = 'none';
                document.getElementById('form-phone').style.display = 'block';
            }
        }

        // ฟังก์ชันขอ OTP (จำลอง)
        function requestOTP(pageType) {
            const phoneInput = document.getElementById(pageType === 'reg' ? 'reg-phone' : 'login-phone');
            if(phoneInput.value.length < 9) {
                alert('กรุณากรอกเบอร์โทรศัพท์ให้ถูกต้อง');
                return;
            }

            alert('ระบบส่ง OTP ไปที่เบอร์ ' + phoneInput.value + ' เรียบร้อยแล้ว (OTP คือ 1234)');
            
            // แสดงกล่อง OTP
            document.getElementById('otp-box-' + pageType).style.display = 'block';
            
            // เปิดใช้งานปุ่ม Submit (จำลองว่ารอ OTP แต่จริงๆ ให้กดได้เลยเพื่อทดสอบ)
            const submitBtn = document.getElementById(pageType === 'reg' ? 'btn-submit-reg' : 'btn-submit-login');
            submitBtn.disabled = false;
            
            // เริ่มนับเวลาถอยหลัง
            startTimer(pageType);
        }

        // ฟังก์ชันนับเวลาถอยหลัง
        function startTimer(pageType) {
            let time = 60;
            const timerElement = document.getElementById('timer-' + pageType);
            const interval = setInterval(() => {
                let minutes = Math.floor(time / 60);
                let seconds = time % 60;
                seconds = seconds < 10 ? '0' + seconds : seconds;
                timerElement.textContent = `0${minutes}:${seconds}`;
                
                if (time <= 0) {
                    clearInterval(interval);
                    timerElement.textContent = "หมดเวลา (กดขอใหม่)";
                }
                time--;
            }, 1000);
        }
    </script>
</body>
</html>
