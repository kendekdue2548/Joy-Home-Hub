<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เข้าสู่ระบบ - Me Sofa Design</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="auth.css">
</head>
<body>

    <div class="auth-container">
        <div class="auth-header">
            <h2><i class="fas fa-couch"></i> ME SOFA</h2>
            <p>ยินดีต้อนรับกลับเข้าสู่ระบบ</p>
        </div>

        <button class="btn-google" onclick="alert('กำลังเชื่อมต่อ Google...')">
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="Google" width="20">
            เข้าสู่ระบบด้วย Google
        </button>

        <div class="divider">หรือเข้าสู่ระบบด้วย</div>

        <div class="auth-tabs">
            <button class="tab-btn active" onclick="switchTab('email')">อีเมล / รหัสผ่าน</button>
            <button class="tab-btn" onclick="switchTab('phone')">เบอร์โทร (OTP)</button>
        </div>

        <form id="form-email" action="#" method="POST">
            <div class="form-group">
                <label>อีเมล หรือ ชื่อผู้ใช้</label>
                <input type="text" placeholder="กรอกอีเมลของคุณ">
            </div>
            <div class="form-group">
                <label>รหัสผ่าน</label>
                <input type="password" placeholder="กรอกรหัสผ่าน">
            </div>
            <div style="text-align: right; margin-bottom: 20px;">
                <a href="#" style="font-size: 0.85rem; color: #888; text-decoration: none;">ลืมรหัสผ่าน?</a>
            </div>
            <button type="button" class="btn-auth" onclick="window.location.href='index.html'">เข้าสู่ระบบ</button>
        </form>

        <form id="form-phone" style="display: none;" action="#" method="POST">
            <div class="form-group input-wrapper">
                <label>เบอร์โทรศัพท์</label>
                <input type="tel" id="login-phone" placeholder="08x-xxx-xxxx">
                <button type="button" class="btn-request-otp" onclick="requestOTP('login')">ขอ OTP</button>
            </div>

            <div id="otp-box-login" class="otp-box">
                <div class="form-group" style="margin-bottom: 5px;">
                    <label>รหัส OTP</label>
                    <input type="text" placeholder="_ _ _ _" maxlength="4" style="text-align: center; letter-spacing: 5px; font-weight: bold;">
                </div>
                <small style="color: #666;">รหัสจะหมดอายุใน: <span id="timer-login" style="color: #D32F2F; font-weight: bold;">01:00</span></small>
            </div>

            <button type="button" id="btn-submit-login" class="btn-auth" disabled onclick="window.location.href='index.html'">เข้าสู่ระบบ</button>
        </form>

        <div class="auth-footer">
            ยังไม่มีบัญชีใช่ไหม? <a href="register.html">สมัครสมาชิกที่นี่</a>
        </div>
        <a href="index.html" class="back-home"><i class="fas fa-arrow-left"></i> กลับไปหน้าหลัก</a>
    </div>

    <script>
        function switchTab(type) {
            document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            if (type === 'email') {
                document.getElementById('form-email').style.display = 'block';
                document.getElementById('form-phone').style.display = 'none';
            } else {
                document.getElementById('form-email').style.display = 'none';
                document.getElementById('form-phone').style.display = 'block';
            }
        }

        function requestOTP(pageType) {
            const phoneInput = document.getElementById(pageType === 'reg' ? 'reg-phone' : 'login-phone');
            if(phoneInput.value.length < 9) {
                alert('กรุณากรอกเบอร์โทรศัพท์ให้ถูกต้อง');
                return;
            }

            alert('ระบบส่ง OTP ไปที่เบอร์ ' + phoneInput.value + ' (OTP คือ 1234)');
            
            document.getElementById('otp-box-' + pageType).style.display = 'block';
            const submitBtn = document.getElementById(pageType === 'reg' ? 'btn-submit-reg' : 'btn-submit-login');
            submitBtn.disabled = false;
            
            startTimer(pageType);
        }

        function startTimer(pageType) {
            let time = 60;
            const timerElement = document.getElementById('timer-' + pageType);
            const interval = setInterval(() => {
                let minutes = Math.floor(time / 60);
                let seconds = time % 60;
                seconds = seconds < 10 ? '0' + seconds : seconds;
                timerElement.textContent = `0${minutes}:${seconds}`;
                if (time <= 0) {
                    clearInterval(interval);
                    timerElement.textContent = "หมดเวลา";
                }
                time--;
            }, 1000);
        }
    </script>
</body>
</html>
